/*--------------------------------------------------------------
 * Main Wrap
--------------------------------------------------------------*/

.cmb2-wrap {
	margin: 0;

	input,
	textarea {
		max-width: 100%;
	}

	input[type=text] {
		&.cmb2-oembed {
			width: 100%;
		}
	}

	textarea {
		width: 650px;

		&.cmb2-textarea-code {
			font-family: $font-mono;
			line-height: 16px;
		}
	}

	input {
		&.cmb2-text-small,
		&.cmb2-timepicker {
			width: 100px;
			// margin-right: 15px
		}

		&.cmb2-text-money {
			width: 90px;
			// margin-right: 15px
		}

		&.cmb2-text-medium {
			width: 230px;
			// margin-right: 15px
		}

		&.cmb2-upload-file {
			width: 65%;
		}

		&.ed_button {
			padding: 2px 4px;
		}

		&:not([type="hidden"]) {
			+ input,
			+ .button-secondary,
			+ select {
				margin-left: 1em;
			}
		}
	}

	ul {
		margin: 0;
	}

	li {
		font-size: $font-size;
		line-height: 16px;
		margin: 1px 0 5px 0;
	}

	input:focus,
	textarea:focus {
		background: $light-yellow;
	}

	input[type="radio"],
	input[type="checkbox"] {
		margin: 0 5px 0 0;
	}

	button,
	.button-secondary {
		white-space: nowrap;
	}

	.mceLayout {
		border: 1px solid $light-gray !important;
	}
	.mceIframeContainer {
		background: $white;
	}
	.meta_mce {
		width: 97%;

		textarea {
			width: 100%;
		}
	}

	// Color picker
	.wp-color-result,
	.wp-picker-input-wrap {
		vertical-align: middle;
	}

	.wp-color-result,
	.wp-picker-container {
		margin: 0 10px 0 0;
	}
}

.cmb2-metabox {
	margin: 0;
	@include clearfix;
}

.cmb-nested .cmb-td,
.cmb-repeatable-group .cmb-th,
.cmb-repeatable-group:first-of-type {
	border: 0;
}

.cmb-row:last-of-type,
.cmb2-wrap .cmb-row:last-of-type,
.cmb-repeatable-group:last-of-type {
	border-bottom: 0;
}

.cmb-repeatable-grouping {
	margin: 0;
	border: 1px solid $light-gray;

	&.cmb-row {
		padding: 0 1em;
		margin: 0 0 0.8em;
	}

	+ .cmb-repeatable-grouping {
	}
}

// Row and column.
.cmb-row {
	@include clearfix;
}

.cmb-th {
	color: $dark-gray;
	font-size: 13px;
	font-weight: 600;
}

.cmb-td {
	line-height: 1.3;
	max-width: 100%;
}

// Display on mobile.
@media screen and (max-width: $mobile-break) {
	.cmb-field-list > .cmb-row {
		margin-bottom: 1em;
	}
}

.cmb-horizontal-form {
	@include horizontal-form;
}

.cmb-th label {
	display: block;
	padding: 5px 0;
}

.cmb-td .cmb-td {
	padding-bottom: 1em;
}

.cmb-add-row {
	margin: 1.8em 0 0;
}

.cmb-remove-row {
	text-align: right;
}

.empty-row.hidden {
	display: none;
}

// Desc
p.cmb2-metabox-description {
	color: $gray;
	font-style: italic;
	padding-top: .5em;
	margin: 0;
}

span.cmb2-metabox-description {
	color: $gray;
	font-style: italic;
}

// Repeatable fields styles
.cmb-row.cmb-repeat p.cmb2-metabox-description {
	color: inherit;
	font-style: normal;

	padding-top: 0;
	margin-bottom: 0.5em;
}

.cmb-repeat-table {
	background-color: $almostwhite;
	border: 1px solid darken($light-gray, 3%);

	.cmb-row.cmb-repeat-row {
		position: relative;
		counter-increment: el;

		margin: 0;
		padding: 10px 10px 10px 50px;
		border-bottom: none !important; // Sometime, we need !important :).

		& + .cmb-repeat-row {
			border-top: solid 1px $light-gray;
		}

		&.ui-sortable-helper {
			outline: dashed 2px $light-gray !important; // Sometime, we need !important :).
		}

		&:before {
			content: counter(el);
			display: block;

			top: 0;
			left: 0;
			position: absolute;

			width: 35px;
			height: 100%;
			line-height: 35px;
			cursor: move;
			color: $gray;
			text-align: center;
			border-right: solid 1px $light-gray;
		}

		.cmb-td {
			margin: 0;
			padding: 0;
		}

	}

	+ .cmb-add-row {
		margin: 0;

		&:before {
			content: '';
			width: 1px;
			height: 1.6em;
			display: block;
			margin-left: 17px;
			background-color: darken($light-gray, 5%);
		}
	}

	.cmb-remove-row {
		top: 7px;
		right: 7px;
		position: absolute;

		width: auto;
		margin-left: 0;
		padding: 0 !important; // Sometime, we need !important :).

		display: none;

		> .cmb-remove-row-button {
			font-size: 20px;
			text-indent: -1000px;

			overflow: hidden;
			position: relative;

			height: auto;
			line-height: 1;
			padding: 0 10px 0;

			&:before {
				@include pseudo-dashicons("\f335");
			}
		}
	}

	.cmb-repeat-row:hover .cmb-remove-row {
		display: block;
	}

}

// Group field
.cmb-repeatable-group {

	.cmb-th {
		padding: 5px;
	}

	.cmb-group-title {
		background-color: $light-gray;
		padding: 8px 12px 8px 2.2em;
		margin: 0 -1em;
		min-height: 1.5em;
		font-size: 14px;
		line-height: 1.4;

		h4 {
			border: 0;
			margin: 0;
			font-size: 1.2em;
			font-weight: 500;
			padding: 0.5em 0.75em;
		}

		.cmb-th {
			display: block;
			width: 100%;
		}
	}

	.cmb-group-description .cmb-th {
		// @include fullth;
	}

	.cmb-shift-rows {
		font-size: 1em;
		margin-right: 1em;
		text-decoration: none;

		.dashicons {
			font-size: 1.5em;
			height: 1.5em;
			line-height: 1.2em;
			width: 1em;

			&.dashicons-arrow-down-alt2 {
				line-height: 1.3em;

			}
		}
	}

	.cmb2-upload-button {
		float: right;
	}

}

// Core fields
.cmb-type-title {
	.cmb-td {
		padding: 0;
	}

	.cmb2-metabox-title {
		margin-top: 0;
		margin-bottom: 0;
	}

	.cmb2-metabox-description {
		padding-top: 0;
	}
}

.cmb-type-textarea-code pre {
	margin: 0;
}

// Misc
.cmb-inline ul {
	padding: 4px 0 0 0;
	max-height: none;
}

.cmb-inline li {
	padding-right: 1em;
	display: inline-block;
}

.cmb-row:not(.cmb-inline) ul {
	overflow: auto;
	max-height: 650px;
}

.cmb2-media-status {

	.img-status {
		clear: none;
		display: inline-block;
		vertical-align: middle;
		margin-right: 10px;
		width: auto;

		img {
			max-width: 350px;
			height: auto;
		}
	}

	.img-status img,
	.embed-status {
		background: $lightchecker;
		border: 5px solid $white;
		outline: 1px solid $light-gray;
		box-shadow: inset 0 0 15px rgba( 0, 0, 0, 0.3 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.05 );
		background-image: linear-gradient(45deg, $darkchecker 25%, transparent 25%, transparent 75%, $darkchecker 75%, $darkchecker), linear-gradient(45deg, $darkchecker 25%, transparent 25%, transparent 75%, $darkchecker 75%, $darkchecker);
		background-position: 0 0, 10px 10px;
		background-size: 20px 20px;
		border-radius: 2px;
		-moz-border-radius: 2px;
 		margin: 15px 0 0 0;
	}

	.embed-status {
		float: left;
		max-width: 800px;
	}

	.img-status, .embed-status {
		position: relative;

		.cmb2-remove-file-button {
			background: url(../images/ico-delete.png);
			height: 16px;
			left: -5px;
			position: absolute;
			text-indent: -9999px;
			top: -5px;
			width: 16px;
		}

	}

	.img-status {

		.cmb2-remove-file-button {
			top: 10px;
		}
	}

	.img-status img, .file-status > span {
		cursor: pointer;
	}

	&.cmb-attach-list {
		.img-status img, .file-status > span {
			cursor: move;
		}
	}

}

.cmb-type-file-list .cmb2-media-status .img-status {
	clear: none;
	vertical-align: middle;
	width: auto;
	margin-right: 10px;
	margin-bottom: 10px;
	margin-top: 0;
}

.cmb-attach-list li {
	clear: both;
	display: inline-block;
	width: 100%;
	margin-top: 5px;
	margin-bottom: 10px;
	img {
		float: left;
		margin-right: 10px;
	}
}

.cmb2-indented-hierarchy {
	padding-left: 1.5em;
}
